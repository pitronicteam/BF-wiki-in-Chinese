# 起飞控制

### &#xD;概述

增加一个竞速起飞辅助系统，让飞手前推俯仰并松手后，飞机可以保持前倾角。从BF4.0起可用。

### 安全信息

当飞机准备弹射起飞时，它看上去可能很安全，但事实上并不是这样。你应该像对待一只会随时扑上来的猛兽一般对待它。永远不要将手从遥控器上挪开并随时准备好上锁。永远不要让自己或他人靠近飞机。遵守正常情况下的所有安全规范。

### 弹射步骤：

* 弹射起飞模式开关拨到开启位置
* 解锁
* 保持油门在最低位
* 前推俯仰到达预定角度
* 摇杆回中
* 推油门，弹射

演示视频： [https://youtu.be/\_S0rn3zcN0Q](https://youtu.be/\_S0rn3zcN0Q)

### 模式开关配置：

若要启用弹射起飞，则必须为其配置一个开关。仅会在解锁时才会检测该模式的状态，所以飞手有多种设置方式。可选项包括：一个专用的开关，在解锁时按住回弹开关，直接与解锁开关绑定，甚至一直保持开启。

### 参数设置：

**`launch_control_mode`**: `NORMAL` (默认), `PITCHONLY`, 和 `FULL`.

* `NORMAL`: 为下置电池的飞机在地面上弹射所设计。Roll和pitch会保持角度不变，yaw可以控制但飞控不会保持yaw的姿态。
* `PITCHONLY`: 使用起飞台弹射或上置电池的飞机在地面弹射。完全禁用roll和yaw。机头的两个电机将保持怠速以减小飞机从起飞台上滑落的风险。不要在没有起飞台的情况下在下置电池的飞机上使用此模式。因为前电机不会响应，飞机可能会前翻。
* `FULL`: 类似于`NORMAL`但是为yaw也加入了姿态保持。使用该设置时请保持小心，yaw轴可能会随时间推移而发生漂移。

**`launch_trigger_allow_reset`**: `OFF`和`ON` (默认).

该参数决定了弹射功能能否被重置。在弹射过后我们想禁用该功能，这样如果炸机后重新解锁，弹射起飞就不会被激活。

* `ON`: 允许飞手在锁定时重新拨动开关以重置弹射起飞。如果为该功能分配了独立的开关，则使用该设置，这样就可以选择性地启用它。
* `OFF`: 弹射起飞无法被重置，除非重新上电或重启飞控。当不能单独控制弹射起飞功能，如一直启用或绑定至解锁开关时，则使用该设置。

只要弹射未被触发，飞手可以多次解锁/锁定，且该功能仍可使用。所以如果飞机从起飞台上滑落，飞手只需将其归位并重新解锁。

**`launch_trigger_throttle_percent`**: 0 - 90 (默认是20).

在弹射起飞状态中增加一个油门死区。一旦超过这个设定值，弹射就会被触发。更高的值可以提供更暴力的弹射，因为油门输出会直接“跳”到设定值。设置为。可禁用该功能。默认值20是一个比较好的既能防止误触发又能提供较好弹射力的值。当使用较高的值时请小心，因为飞机在弹射时会很暴力。

**`launch_control_gain`**: 0 - 200 (默认是40).

I值增益用于保持姿态。如果飞机很难保持姿态，则适当增加该值。小心使用很高的值，因为漂移可能会发生。如果姿态保持时电机在持续加速，那么这个值就太高了。在工作正常的情况下使用尽可能低的值。机身抬起时的些许抖动属于正常现象，这时候飞机很容易受到影响而发生漂移。一般来说一小点抖动不算是个问题，没有必要把它调得太高。

### 结合加速度计

如果加速度计可用，额外的反馈信息会显示在OSD上，指示当前的前倾角度。飞手可利用该信息调节倾角以提高弹射的一致性。

**`launch_angle_limit`**: 0 - 80 (默认是0)

允许飞手设置最大的前倾角度，为飞手使用习惯的弹射角度提供便利。该设置可防止飞机前倾过度。飞机不会自动到达该倾角。飞手仍可以在低于设置角度的地方进行调节。设置为0以禁用该功能。

### 结合OSD

如果开启了“警告信息”，那么一个LAUNCH指示会在启用弹射起飞时显示。确认弹射起飞报警选项已开启。如果加速度计可用，则当前前倾角会显示出来，如“LAUNCH 25”。

**在BF4.2中加入：当油门靠近触发位置10%以内时，OSD信息会闪烁，以提供一个可视化的即将触发弹射的指示。**

**所有弹射起飞的参数都可以通过OSD设置。它们在：**PROFILE -> MISC PP -> LAUNCH CONTROL 下。

### 备注

如果满足以下任意一项，弹射起飞就不会被激活。

* 在非手动模式下解锁
* 开启了“解锁时不要转动电机”选项，解锁时电机不旋转（Airmode关闭）
* 开启了3D模式
* 使用摇杆解锁
